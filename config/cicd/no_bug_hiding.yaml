# No Bug-Hiding Enforcement Configuration
#
# This file configures the no_bug_hiding static analysis tool.
# It detects defensive programming patterns that hide bugs instead of fixing them.
#
# Philosophy:
#   - Inside the tent: fail fast, no patterns that mask bugs
#   - At boundaries: explicit validation allowed, but must be intentional and documented
#
# Key format: <file_path>:<rule_id>:<symbol_context>:line=<lineno>
#
# Rules:
#   R1: dict.get() usage - hides missing key bugs
#   R2: getattr() with default - hides missing attribute bugs
#   R3: hasattr() usage - branches around missing attributes
#   R4: broad exception handling without re-raise - suppresses bugs

version: 1

defaults:
  # Fail CI if an allowlist entry doesn't match any code (stale entry)
  fail_on_stale: true
  # Fail CI if an allowlist entry has expired
  fail_on_expired: true

allow_hits:

  # ============================================================
  # TUI TRUST BOUNDARY (Permanent)
  # ============================================================
  # These display Landscape data that may be incomplete for failed/partial
  # runs. Graceful degradation to default values is appropriate - users see
  # partial data rather than a crash. This is intentional UX design.
  # ============================================================

  # --- ExplainScreen exception handling ---
  - key: "tui/screens/explain_screen.py:R4:ExplainScreen:_load_pipeline_structure:line=81"
    owner: "architecture"
    reason: "Trust boundary: loading pipeline structure that may fail for corrupt/incomplete runs"
    safety: "Graceful degradation - displays error message in UI instead of crash"
    expires: null  # Permanent - intentional design

  - key: "tui/screens/explain_screen.py:R4:ExplainScreen:_load_node_state:line=143"
    owner: "architecture"
    reason: "Trust boundary: loading node state that may fail for incomplete audit trails"
    safety: "Graceful degradation - displays error message in UI instead of crash"
    expires: null  # Permanent - intentional design

  # --- LineageTree displaying Landscape data ---
  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=50"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape run_id that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=54"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape source that may be empty"
    safety: "Graceful degradation to empty dict - user sees partial tree"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=56"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape source name that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=57"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape node_id that may be missing"
    safety: "Graceful degradation to None - tree node still renders"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=63"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape transforms list that may be empty"
    safety: "Graceful degradation to empty list - tree renders without transforms"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=68"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape transform name that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=69"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape transform node_id that may be missing"
    safety: "Graceful degradation to None - tree node still renders"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=76"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape sinks list that may be empty"
    safety: "Graceful degradation to empty list - tree renders without sinks"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=81"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape sink name that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=82"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape sink node_id that may be missing"
    safety: "Graceful degradation to None - tree node still renders"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=86"
    owner: "architecture"
    reason: "Trust boundary: checking if sink node_id exists before adding to parent"
    safety: "Graceful degradation - orphan sinks still render in tree"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=90"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape tokens list that may be empty"
    safety: "Graceful degradation to empty list - tree renders without tokens"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=93"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape token_id/row_id that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=94"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape token node_id that may be missing"
    safety: "Graceful degradation to None - tree node still renders"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/lineage_tree.py:R1:LineageTree:_build_tree:line=98"
    owner: "architecture"
    reason: "Trust boundary: displaying Landscape token path that may be empty"
    safety: "Graceful degradation to empty list - token renders without path"
    expires: null  # Permanent - intentional design

  # --- NodeDetailPanel displaying node state ---
  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=38"
    owner: "architecture"
    reason: "Trust boundary: displaying node plugin_name that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=39"
    owner: "architecture"
    reason: "Trust boundary: displaying node_type that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=45"
    owner: "architecture"
    reason: "Trust boundary: displaying state_id that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=46"
    owner: "architecture"
    reason: "Trust boundary: displaying node_id that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=47"
    owner: "architecture"
    reason: "Trust boundary: displaying token_id that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=51"
    owner: "architecture"
    reason: "Trust boundary: displaying status that may be missing"
    safety: "Graceful degradation to 'unknown' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=54"
    owner: "architecture"
    reason: "Trust boundary: displaying started_at that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=55"
    owner: "architecture"
    reason: "Trust boundary: displaying completed_at that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial data"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=56"
    owner: "architecture"
    reason: "Trust boundary: displaying duration_ms that may be missing"
    safety: "Graceful degradation to None - conditionally displayed"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=63"
    owner: "architecture"
    reason: "Trust boundary: displaying input_hash that may be missing"
    safety: "Graceful degradation to None - conditionally displayed"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=64"
    owner: "architecture"
    reason: "Trust boundary: displaying output_hash that may be missing"
    safety: "Graceful degradation to None - conditionally displayed"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=70"
    owner: "architecture"
    reason: "Trust boundary: displaying error_json that may be missing"
    safety: "Graceful degradation to None - error section conditionally shown"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=75"
    owner: "architecture"
    reason: "Trust boundary: displaying error type from JSON that may be malformed"
    safety: "Graceful degradation to 'unknown' - user sees partial error info"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=76"
    owner: "architecture"
    reason: "Trust boundary: displaying error message from JSON that may be malformed"
    safety: "Graceful degradation to 'unknown' - user sees partial error info"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=82"
    owner: "architecture"
    reason: "Trust boundary: displaying artifact that may be missing"
    safety: "Graceful degradation to None - artifact section conditionally shown"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=85"
    owner: "architecture"
    reason: "Trust boundary: displaying artifact_id that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial artifact info"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=86"
    owner: "architecture"
    reason: "Trust boundary: displaying path_or_uri that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial artifact info"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=87"
    owner: "architecture"
    reason: "Trust boundary: displaying content_hash that may be missing"
    safety: "Graceful degradation to 'N/A' - user sees partial artifact info"
    expires: null  # Permanent - intentional design

  - key: "tui/widgets/node_detail.py:R1:NodeDetailPanel:render_content:line=88"
    owner: "architecture"
    reason: "Trust boundary: displaying size_bytes that may be missing"
    safety: "Graceful degradation to None - conditionally displayed"
    expires: null  # Permanent - intentional design

  # ============================================================
  # PLUGIN MANAGER OPTIONAL API (Permanent)
  # ============================================================
  # These methods return Optional[T] by design - the documented API contract
  # is that callers check the return value. Returning None for unknown plugin
  # names is intentional, not a bug-hiding pattern.
  # ============================================================

  - key: "plugins/manager.py:R1:PluginManager:get_source_by_name:line=245"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  - key: "plugins/manager.py:R1:PluginManager:get_transform_by_name:line=249"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  - key: "plugins/manager.py:R1:PluginManager:get_gate_by_name:line=253"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  - key: "plugins/manager.py:R1:PluginManager:get_aggregation_by_name:line=257"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  - key: "plugins/manager.py:R1:PluginManager:get_coalesce_by_name:line=261"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  - key: "plugins/manager.py:R1:PluginManager:get_sink_by_name:line=265"
    owner: "architecture"
    reason: "Intentional Optional API: returns None for unknown plugin names"
    safety: "Callers check return value - this is the documented contract"
    expires: null  # Permanent - intentional design

  # ============================================================
  # PLUGIN LIFECYCLE TRUST BOUNDARY (Permanent)
  # ============================================================
  # Plugin adapters use hasattr to check for optional lifecycle methods
  # (on_start, on_complete) because Phase 2 plugins may not implement them.
  # This is legitimate duck-typing at a plugin trust boundary.
  # ============================================================

  - key: "engine/adapters.py:R3:SinkAdapter:on_start:line=134"
    owner: "architecture"
    reason: "Trust boundary: optional plugin lifecycle method may not exist"
    safety: "Duck-typing at plugin boundary - Phase 2 plugins may not have lifecycle hooks"
    expires: null  # Permanent - intentional design

  - key: "engine/adapters.py:R3:SinkAdapter:on_complete:line=143"
    owner: "architecture"
    reason: "Trust boundary: optional plugin lifecycle method may not exist"
    safety: "Duck-typing at plugin boundary - Phase 2 plugins may not have lifecycle hooks"
    expires: null  # Permanent - intentional design

  # ============================================================
  # PLUGIN METADATA EXTRACTION (Permanent)
  # ============================================================
  # The orchestrator extracts optional plugin metadata (version, determinism)
  # using getattr because plugins may not define these attributes. This is
  # legitimate duck-typing at a plugin trust boundary.
  # ============================================================

  - key: "engine/orchestrator.py:R1:Orchestrator:_execute_run:line=258"
    owner: "architecture"
    reason: "Trust boundary: node_to_plugin map lookup returns None for missing nodes"
    safety: "Explicitly checked: if plugin is not None then extract metadata"
    expires: null  # Permanent - intentional design

  - key: "engine/orchestrator.py:R2:Orchestrator:_execute_run:line=264"
    owner: "architecture"
    reason: "Trust boundary: plugins may not define plugin_version attribute"
    safety: "Duck-typing at plugin boundary - fallback to '0.0.0' is documented behavior"
    expires: null  # Permanent - intentional design

  - key: "engine/orchestrator.py:R2:Orchestrator:_execute_run:line=269"
    owner: "architecture"
    reason: "Trust boundary: plugins may not define determinism attribute"
    safety: "Duck-typing at plugin boundary - fallback to DETERMINISTIC is documented"
    expires: null  # Permanent - intentional design

  # ============================================================
  # EXPORT SINK TYPE CHECKING (Permanent)
  # ============================================================
  # CSV multifile export needs to extract the path from the sink, but not
  # all sink types have a _path attribute. This hasattr check provides a
  # clear error message instead of an AttributeError.
  # ============================================================

  - key: "engine/orchestrator.py:R3:Orchestrator:_export_csv_multifile:line=561"
    owner: "architecture"
    reason: "Trust boundary: CSV export requires path-based sink, validate before use"
    safety: "Explicit error raised if sink doesn't have _path - fails fast with clear message"
    expires: null  # Permanent - intentional design

  # ============================================================
  # ENVIRONMENT VARIABLE LOOKUP (Permanent)
  # ============================================================
  # os.environ.get() is the standard Python pattern for optional environment
  # variables. This is explicitly checked and raises if missing when required.
  # ============================================================

  - key: "engine/orchestrator.py:R1:Orchestrator:_export_landscape:line=493"
    owner: "architecture"
    reason: "Standard pattern: optional environment variable with explicit check"
    safety: "Raises ValueError with clear message if signing enabled but key missing"
    expires: null  # Permanent - intentional design

  # ============================================================
  # GATE ROUTING LOOKUPS (Permanent)
  # ============================================================
  # Gate executors look up routing destinations and edge IDs. Missing
  # entries raise MissingEdgeError with clear diagnostics.
  # ============================================================

  - key: "engine/executors.py:R1:GateExecutor:execute_gate:line=328"
    owner: "architecture"
    reason: "Lookup with explicit None check - raises MissingEdgeError if not found"
    safety: "Raises immediately with node_id and label for debugging"
    expires: null  # Permanent - intentional design

  - key: "engine/executors.py:R1:GateExecutor:_record_routing:line=406"
    owner: "architecture"
    reason: "Lookup with explicit None check - raises MissingEdgeError if not found"
    safety: "Raises immediately with node_id and label for debugging"
    expires: null  # Permanent - intentional design

  - key: "engine/executors.py:R1:GateExecutor:_record_routing:line=420"
    owner: "architecture"
    reason: "Lookup with explicit None check - raises MissingEdgeError if not found"
    safety: "Raises immediately with node_id and label for debugging"
    expires: null  # Permanent - intentional design

  # ============================================================
  # BURN-DOWN LIST - Plugin Metadata Extraction
  # ============================================================
  # These patterns extract optional attributes from plugins using getattr.
  # Needs review: should plugins be required to define these attributes?
  # Expires: 2026-02-14
  # ============================================================

  - key: "plugins/manager.py:R3:_schema_hash:line=46"
    owner: "burn-down"
    reason: "Pre-existing - needs review for typed contracts"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginSpec:from_plugin:line=83"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginSpec:from_plugin:line=84"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginSpec:from_plugin:line=87"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginSpec:from_plugin:line=89"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginSpec:from_plugin:line=90"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=149"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=159"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=169"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=179"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=189"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/manager.py:R2:PluginManager:_refresh_caches:line=199"
    owner: "burn-down"
    reason: "Pre-existing - plugin metadata extraction needs typed protocol"
    safety: "Pending remediation"
    expires: "2026-02-14"

  # ============================================================
  # BURN-DOWN LIST - Plugin Config Parsing
  # ============================================================
  # These patterns use dict.get() to parse plugin configuration.
  # Needs remediation: should use typed Pydantic models for config (Task 3.3).
  # Expires: 2026-02-14
  # ============================================================

  - key: "plugins/schemas.py:R1:validate_row:line=94"
    owner: "burn-down"
    reason: "Pre-existing - schema validation needs typed contracts"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/schemas.py:R3:_type_name:line=182"
    owner: "burn-down"
    reason: "Pre-existing - type introspection for error messages"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/field_match_gate.py:R1:FieldMatchGate:__init__:line=56"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/field_match_gate.py:R1:FieldMatchGate:__init__:line=57"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/field_match_gate.py:R1:FieldMatchGate:__init__:line=58"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/field_match_gate.py:R1:FieldMatchGate:__init__:line=59"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/field_match_gate.py:R1:FieldMatchGate:_find_matching_label:line=152"
    owner: "burn-down"
    reason: "Pre-existing - field matching logic needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/threshold_gate.py:R1:ThresholdGate:__init__:line=50"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/threshold_gate.py:R1:ThresholdGate:__init__:line=51"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/gates/filter_gate.py:R1:FilterGate:__init__:line=74"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/database_sink.py:R1:DatabaseSink:__init__:line=43"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/database_sink.py:R1:DatabaseSink:__init__:line=44"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/csv_sink.py:R1:CSVSink:__init__:line=38"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/csv_sink.py:R1:CSVSink:__init__:line=39"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/json_sink.py:R1:JSONSink:__init__:line=38"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/json_sink.py:R1:JSONSink:__init__:line=39"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sinks/json_sink.py:R1:JSONSink:__init__:line=42"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/transforms/field_mapper.py:R1:FieldMapper:__init__:line=38"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/transforms/field_mapper.py:R1:FieldMapper:__init__:line=39"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/transforms/field_mapper.py:R1:FieldMapper:__init__:line=40"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/json_source.py:R1:JSONSource:__init__:line=39"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/json_source.py:R1:JSONSource:__init__:line=40"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/json_source.py:R1:JSONSource:__init__:line=43"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/csv_source.py:R1:CSVSource:__init__:line=40"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/csv_source.py:R1:CSVSource:__init__:line=41"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "plugins/sources/csv_source.py:R1:CSVSource:__init__:line=42"
    owner: "burn-down"
    reason: "Pre-existing - needs typed Pydantic config (Task 3.3)"
    safety: "Pending remediation"
    expires: "2026-02-14"

  # ============================================================
  # BURN-DOWN LIST - CLI and Engine Patterns
  # ============================================================
  # Miscellaneous patterns that need review.
  # Expires: 2026-02-14
  # ============================================================

  - key: "cli.py:R1:_execute_pipeline:line=263"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "cli.py:R1:_execute_pipeline:line=266"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "cli.py:R1:_execute_pipeline:line=271"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "cli.py:R1:_execute_pipeline:line=272"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "cli.py:R1:plugins_list:line=420"
    owner: "burn-down"
    reason: "Pre-existing - PLUGIN_REGISTRY lookup needs typed alternative"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_artifact_info:line=153"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_file_artifact:line=173"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_database_artifact:line=194"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_database_artifact:line=195"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_webhook_artifact:line=217"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/adapters.py:R1:SinkAdapter:_compute_webhook_artifact:line=219"
    owner: "burn-down"
    reason: "Pre-existing - artifact_descriptor should be typed dataclass"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/processor.py:R3:RowProcessor:process_row:line=134"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/processor.py:R3:RowProcessor:process_row:line=162"
    owner: "burn-down"
    reason: "Pre-existing - needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/retry.py:R1:RetryConfig:from_policy:line=68"
    owner: "burn-down"
    reason: "Pre-existing - retry config parsing needs typed model"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/retry.py:R1:RetryConfig:from_policy:line=69"
    owner: "burn-down"
    reason: "Pre-existing - retry config parsing needs typed model"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/retry.py:R1:RetryConfig:from_policy:line=70"
    owner: "burn-down"
    reason: "Pre-existing - retry config parsing needs typed model"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "engine/retry.py:R1:RetryConfig:from_policy:line=71"
    owner: "burn-down"
    reason: "Pre-existing - retry config parsing needs typed model"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "core/dag.py:R1:ExecutionGraph:validate:line=129"
    owner: "burn-down"
    reason: "Pre-existing - DAG validation needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "core/dag.py:R1:ExecutionGraph:get_source:line=164"
    owner: "burn-down"
    reason: "Pre-existing - DAG source lookup needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "core/dag.py:R1:ExecutionGraph:get_sinks:line=177"
    owner: "burn-down"
    reason: "Pre-existing - DAG sinks lookup needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"

  - key: "core/rate_limit/limiter.py:R1:RateLimiter:close:line=251"
    owner: "burn-down"
    reason: "Pre-existing - rate limiter cleanup needs review"
    safety: "Pending remediation"
    expires: "2026-02-14"
